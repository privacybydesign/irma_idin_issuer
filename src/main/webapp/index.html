<!DOCTYPE html>

<html>
    <head>
        <meta charset="utf-8"/>
        <title>iDeal en iDIN - IRMA</title>
        <meta name="viewport" content="width=device-width, initial-scale=1"/>
        <meta value="https://privacybydesign.foundation/tomcat/irma_api_server/server/" name="irma-web-server">
        <meta value="https://privacybydesign.foundation/tomcat/irma_api_server/api/v2/" name="irma-api-server">
        <link rel="stylesheet" href="https://privacybydesign.foundation/tomcat/irma_api_server/bower_components/bootstrap/dist/css/bootstrap.min.css"/>
        <link rel="stylesheet" href="common.css"/>
        <script src="https://privacybydesign.foundation/tomcat/irma_api_server/bower_components/jquery/dist/jquery.js" defer></script>
        <script src="https://privacybydesign.foundation/tomcat/irma_api_server/client/irma.js" defer></script>
        <script src="messages.en.js" defer></script>
        <script src="common.js" defer></script>
    </head>
    <body>
        <div class="container-fluid">
            <h1>Bank attributen laden in uw IRMA app<img src="images/iDIN logo rgb 96 pixels.png" align="right" class='logo'/> <img class='logo' src="images/iDEAL-klein.png" align="right"/></h1>

            <ul class="steps">
                <li class="step">1</li>
                <li class="step">2</li>
                <li class="step">3</li>
                <li class="step">4</li>
            </ul>

            <div id="result-alert" class="alert hidden"></div>

            <div id="transaction-alert" class="alert alert-warning hidden">
                <strong>Er is nog een lopende transactie actief.</strong>
                Ga verder met de al lopende <a href="">transactie</a>.
            </div>

            <div id="token-alert" class="alert alert-warning hidden">
                <strong>U heeft al eerder IBAN attributen aangevraagd.</strong>
                Ga verder met het aanvragen van <a href="?ec=ideal-phase3" class="idin">iDIN attributen</a>,
                of wanneer u uw <a href="?ec=ideal" class="ideal">IBAN attributen</a> nog niet geladen heeft,
                laad dan uw <a href="?ec=ideal" class="ideal">IBAN attributen</a> in uw IRMA app.
            </div>

            <div id="pane-ideal">
                <p>Het laden van bankgegevens in uw IRMA app is een
                beetje werk, in vier stappen. Lees eerst goed de
                onderstaande uitleg. </p>

                <form id="form-ideal-request" onsubmit="return false;">
                    <div class="form-group form-bank">
                        <label for="input-ideal-bank">iDeal Bank</label>
                        <select id="input-ideal-bank" class="form-control" required>
                            <option disabled value="">Loading...</option>
                        </select>
                    </div>
                    <div class="form-group form-submit text-right">
                        <input type="submit" id="btn-ideal-request" class="btn btn-primary" value="Inloggen via uw bank"/>
                    </div>

                    <h3>Doorgaan naar iDIN</h3>
                    <p>
                        Wanneer u al uw IBAN attributen in uw app
                        heeft, maar nog geen persoonsgegevens uit
                        iDIN, dan kunt de eerste twee IBAN stappen
                        overslaan en via de onderstaande knop
                        rechtstreeks een iDIN login starten.
                    </p>
                    <div class="text-right">
                        <input type="submit" id="btn-disclose-iban" class="btn btn-default" value="Ga verder naar iDIN"/>
                    </div>
                </form>
                <div class="bottom">
                    <h3>Uitleg</h3>
                    <p>
                        Via deze pagina kunt u bepaalde gegevens over
                        uzelf ("attributen") afkomstig van uw bank in de
                        IRMA app op uw eigen telefoon laden. Het gaat om
                        het "IBAN" rekeningnummer (plus uw naam), via
                        <a href="https://www.ideal.nl/">iDeal</a>, en om
                        persoonsgegevens (naam, adres, geboortedatum etc)
                        via <a href="https://www.idin.nl/">iDIN</a>. Als
                        deze gegevens in uw app staan, kunt u ze online
                        laten zien, bijv. bij een webwinkel.
                    </p>

                    <p>
                        Het gehele laadproces bestaat uit vier stappen.
                        <ol> 
                        <li> U doet een online betaling van 1 euro, via
                        iDeal, met uw gebruikelijke bankmiddelen. </li>
                        <li> Na een geslaagde betaling kunt u
                        de IBAN rekeninggegevens (IBAN, BIC en naam) van de rekening waarmee u heeft betaald laden in
                        uw IRMA app.</li>
                        <li> In deze derde stap kunt u kiezen of u ook
                        nog persoonsgegevens (naam, adres, geboortedatum
                        etc.) wil laden; zo ja, dan is nog een login
                        nodig bij iDIN, met dezelfde bankmiddelen. </li>
                        <li>Na een geslaagde login kunt u uw
                        persoonsgegevens afkomstig van uw bank direct
                        laden in de IRMA app. </li>
                        </ol>
                        
                        De betaling van 1 euro wordt enerzijds gebruikt om
                        te controleren of u echt over de bankrekening
                        beschikt, en anderzijds om de (afgeronde) kosten
                        van de iDeal en iDIN transacties te dekken.
                    </p>
                </div>
            </div>

            <div id="pane-ideal-result-ok" class="hidden">
                <p>
                    De iDeal transactie is succesvol afgerond. U kunt
                    hier uw IBAN attributen in uw IRMA app laden. U
                    kunt deze stap ook overslaan en verder gaan met
                    het laden van iDIN attributen.
                </p>
                <div class="text-right">
                    <button id="btn-ideal-skip" class="btn btn-default">Sla deze stap over</button>
                    <button id="btn-ideal-issue" class="btn btn-primary">Laad attributen in IRMA app</button>
                </div>
            </div>

            <div id="pane-ideal-result-fail" class="hidden">
                <p>
                    <button id="btn-ideal-retry" class="btn btn-primary">Probeer opnieuw</button>
                    <button id="btn-ideal-onwards" class="btn btn-default pull-right">Ga verder met het laden van iDIN attributen</button>
                </p>
            </div>

            <div id="pane-idin">
                <p>Na het ontvangen van deze IBAN attributen kunt u nu iDIN attributen ophalen:</p>
                <form id="form-idin-request" onsubmit="return false;">
                    <div class="form-group form-bank">
                        <label for="input-idin-bank">iDIN Bank</label>
                        <select id="input-idin-bank" class="form-control" required>
                            <option disabled value="">Loading...</option>
                        </select>
                    </div>
                    <div class="form-group form-submit text-right">
                        <input type="submit" id="btn-idin-request" class="btn btn-primary" value="Inloggen via uw bank"/>
                    </div>
                </form>
            </div>

            <div id="pane-idin-result">
                <p>U kunt nu de iDIN attributen laden in de IRMA app
                op uw telefoon.</p>
            </div>
        </div>
    </body>
</html>
